services:
  feedback-bullboard:
    image: venatum/bull-board
    restart: unless-stopped
    ports:
      - "3000:3000"
    deploy:
      resources:
        limits:
          cpus: '0.1'
          memory: 256M
    container_name: feedback-bullboard--production
    labels:
      - traefik.enable=true
      - traefik.http.routers.bullboard.entrypoints=web-secure
      - traefik.http.routers.bullboard.rule=Host(`bullboard.xn--47-dlckcacbiv4afwllqms4x.xn--p1ai`)
      - traefik.http.routers.bullboard.middlewares=chain-authelia@file
      - traefik.http.routers.bullboard.tls.certresolver=tlsresolver
      - traefik.http.routers.bullboard.service=bullboard
      - traefik.http.services.bullboard.loadbalancer.server.port=3000
    environment:
      REDIS_HOST: feedback-redis
      REDIS_DB: 0
      REDIS_USE_TLS: false
      REDIS_PASSWORD: HAUOScya784hgiiuadpi09812jiuHQP**&@QEghdaxkjkhj
    depends_on:
      - feedback-redis
